# 本日やったこと
- サブクエリ
- AS
- JOIN
- LEFT JOIN

# 詳細
- サブクエリ
```go
SQLでは、クエリの中に他のクエリを入れることができます。
この他のクエリをサブクエリと言います。2つ以上のクエリを1つにまとめることができるので、
より複雑なデータを取得する際に使われます。「ウィルより得点数の多い選手名」を調べています。
```
```go
サブクエリを使った場合
SELECT name
FROM players
WHERE goals >(
SELECT goals //サブクエリ(ウィルの得点数を取得)
FROM players
WHERE name ="ウィル"
);
```
```go
サブクエリを使った場合
SELECT name
FROM players
WHERE goals >( //()でサブクエリを囲む
SELECT goals 
FROM players
WHERE name ="ウィル"
);//()でサブクエリを囲む
```

# AS
```go
ASを使うことでカラム名などに別名を定義することができます。
「カラム名 AS "名前"」で、カラム名に定義する名前を指定します。
```
```go
SELECT goals AS"ウィルの得点数" //実行結果の表示がgoalsから変更される
FROM players
WHERE name
```

# countriesテーブル
```go
テーブルを紐づけるために、外部キーと主キーを使います。
外部キーで他のテーブルにある主キーを指定することで、テーブル同士を紐付けることができます。
```
# JOIN
```go
JOINは複数のテーブルを1つに結合したいときに使います。
ONで条件を指定して、テーブルAにテーブルBを結合します。
結合したテーブルは1つのテーブルとしてデータを取得することができます。
```
```go
SELECT*
FROM　テーブルA
JOIN テーブルB
ON 結合条件
```
- 結合条件
```go
結合条件は、「ON テーブル名.カラム名 = テーブル名.カラム名」で指定します
playersテーブルのcountry_idとcountriesテーブルのidを紐づけて結合しています。
```
```go
SELECT*
FROMテーブルA
JOINテーブルB
ONテーブルA.カラム名(外部キー) = テーブルB.カラム名(主キー)
```

- JOINの実行順序
```go
①JOINを含んだクエリでは、はじめにJOINが実行されます。
その次に、②結合されたテーブルに対してSELECTが実行されます。
```
- 複数テーブルでのカラムの指定(1)
```go
複数のテーブルに同じカラム名が存在するときは、「テーブル名.カラム名」で指定しなければなりません。
nameカラムが複数のテーブルにあるときは、「それぞれのテーブル名.name」で指定
```
- 複数テーブルでのカラムの指定(2)
```go
「テーブル名.カラム名」を用いたカラム指定は、WHERE内でも使えます。
複数テーブルを扱うときは、異なるテーブルで同じカラム名が存在する場合があるので覚えておきましょう。
```

# LEFT JOIN
```go
LEFT JOINを使うことで、FROMで指定したテーブルのレコードを全て取得します。
外部キーがNULLのレコードもNULLのまま実行結果に表示されます。
```

```go
SELECT*
FROM players //LEFT JOINを使うともととなるテーブルのレコードを全て取得する
LEFTJOINteams
ON playes.previouus_team_id = teams.id
```
